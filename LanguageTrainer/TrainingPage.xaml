<Page x:Class="LanguageTrainer.TrainingPage" 
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      Title="TrainingPage"
      Background="#272537">

    <Grid>
        <Viewbox Stretch="Fill">
            <Grid Width="800" Height="450">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="0.2*"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="0.78*"/>
                </Grid.ColumnDefinitions>

                <!-- Левая панель с кнопками -->
                <Border Grid.Column="0" Background="#272537">
                    <StackPanel>
                        <Button Style="{StaticResource GroupButtonStyle}"
                                Click="HomeButton_Click">
                            <StackPanel Orientation="Horizontal">
                                <Image Style="{StaticResource GroupButtonIconStyle}"
                                       Source="https://img.icons8.com/ios/500/home--v1.png"/>
                                <TextBlock Style="{StaticResource GroupButtonTextStyle}" Text="Домой"/>
                            </StackPanel>
                        </Button>

                        <Button Style="{StaticResource GroupButtonStyle}"
                                Click="BackButton_Click">
                            <StackPanel Orientation="Horizontal">
                                <Image Style="{StaticResource GroupButtonIconStyle}"
                                       Source="https://img.icons8.com/ios/500/back--v1.png"/>
                                <TextBlock Style="{StaticResource GroupButtonTextStyle}" Text="Назад"/>
                            </StackPanel>
                        </Button>
                    </StackPanel>
                </Border>

                <GridSplitter Grid.Column="1" Style="{StaticResource GroupSplitterStyle}"/>

                <!-- Основная область тренировки -->
                <Border Grid.Column="2" Background="Transparent">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="*"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>

                        <!-- Заголовок тренировки -->
                        <TextBlock Grid.Row="0" 
                                   x:Name="TrainingTitle"
                                   Style="{StaticResource ContentTextBlockStyle}"
                                   Text="Тренировка: "/>

                        <!-- Основное содержимое тренировки -->
                        <Grid Grid.Row="1" VerticalAlignment="Center">
                            <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center">
                                <!-- Слово для перевода -->
                                <TextBlock x:Name="WordToTranslate"
                                           Foreground="White"
                                           FontSize="32"
                                           FontFamily="Comic Sans MS"
                                           HorizontalAlignment="Center"
                                           Margin="0,0,0,30"
                                           TextWrapping="Wrap"
                                           TextAlignment="Center"/>
                                
                                <!-- Поле для ввода ответа -->
                                <TextBox x:Name="AnswerTextBox"
                                         Width="300"
                                         Height="40"
                                         FontSize="20"
                                         FontFamily="Comic Sans MS"
                                         HorizontalAlignment="Center"
                                         VerticalAlignment="Center"
                                         Background="#58567D"
                                         Foreground="White"
                                         BorderThickness="1"
                                         BorderBrush="White"
                                         TextAlignment="Center"
                                         KeyDown="AnswerTextBox_KeyDown"/>

                                <!-- Текст с правильным ответом -->
                                <TextBlock x:Name="CorrectAnswerText"
                                           Foreground="White"
                                           FontSize="16"
                                           FontFamily="Comic Sans MS"
                                           HorizontalAlignment="Center"
                                           Margin="0,10,0,0"/>
                            </StackPanel>
                        </Grid>

                        <!-- Область с результатами и статистикой -->
                        <Grid Grid.Row="2">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>

                            <!-- Список результатов -->
                            <ScrollViewer Grid.Row="0" 
                                          x:Name="ResultsScrollViewer"
                                          Style="{StaticResource ContentScrollViewerStyle}"
                                          Visibility="Collapsed"
                                          MaxHeight="150"
                                          Margin="50,10,50,0">
                                <StackPanel x:Name="ResultsStackPanel"/>
                            </ScrollViewer>

                            <!-- Статистика -->
                            <StackPanel Grid.Row="1" 
                                        Orientation="Horizontal"
                                        HorizontalAlignment="Center"
                                        Margin="0,10,0,20">
                                <TextBlock x:Name="StatsText"
                                           Foreground="White"
                                           FontSize="16"
                                           FontFamily="Comic Sans MS"/>
                            </StackPanel>
                        </Grid>
                    </Grid>
                </Border>
            </Grid>
        </Viewbox>
    </Grid>
</Page>